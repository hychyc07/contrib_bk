#/*
# * Copyright (C) 2009 Stephen Hart. All rights reserved.
# * 
# */
cmake_minimum_required(VERSION 2.6)
 
SET(PROJECTNAME controlBasisGui)
PROJECT(${PROJECTNAME})

#main packages
FIND_PACKAGE(YARP)
FIND_PACKAGE(ICUB)
SET(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${YARP_DIR}/conf ${ICUB_DIR}/conf)
FIND_PACKAGE(ACE)

#helper packages
FIND_PACKAGE(GtkMM)

# set contrib root
SET(ICUB_CONTRIB $ENV{ICUB_ROOT}/contrib)

# source and header files
FILE(GLOB folder_source *.cpp)
FILE(GLOB folder_header *.h)

# Declare groups of source and header files -- makes things pretty in MSVC.
SOURCE_GROUP("Source Files" FILES ${folder_source})
SOURCE_GROUP("Header Files" FILES ${folder_header})

#include directories
INCLUDE_DIRECTORIES(${YARP_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${ICUB_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${ACE_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${GtkMM_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(include)
INCLUDE_DIRECTORIES(${ICUB_CONTRIB}/include)
INCLUDE_DIRECTORIES(${ICUB_CONTRIB}/build/include)

# link directories
LINK_DIRECTORIES(${ICUB_CONTRIB}/lib)
LINK_DIRECTORIES(${ICUB_CONTRIB}/build/lib)

#MESSAGE(STATUS "gtkmm:  ${GtkMM_INCLUDE_DIRS}")
MESSAGE(STATUS "icub:  ${ICUB_INCLUDE_DIRS}")

ADD_EXECUTABLE(${PROJECTNAME} ${folder_source} ${folder_header})

TARGET_LINK_LIBRARIES(${PROJECTNAME} ${YARP_LIBRARIES} ${ICUB_LIBRARIES})
TARGET_LINK_LIBRARIES(${PROJECTNAME} ${GtkMM_LIBRARIES})
TARGET_LINK_LIBRARIES(${PROJECTNAME} ${ACE_LIBRARIES})
TARGET_LINK_LIBRARIES(${PROJECTNAME} rl) 
TARGET_LINK_LIBRARIES(${PROJECTNAME} controlBasis)

INSTALL (TARGETS ${PROJECTNAME} RUNTIME DESTINATION bin)

IF(WIN32 AND NOT CYGWIN)
    SET_TARGET_PROPERTIES(${PROJECTNAME} PROPERTIES COMPILE_FLAGS /wd4250)
ENDIF(WIN32 AND NOT CYGWIN)



